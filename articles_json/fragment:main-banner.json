{"uid": 9085, "pageId": "fragment:main-banner", "title": "\u0411\u0430\u043d\u043d\u0435\u0440 \u0434\u043b\u044f \u0433\u043b\u0430\u0432\u043d\u043e\u0439", "source": "[[div_ class=\"cimg banner-block\"]]\n[[html]]\n<div class=\"banner-single\">\n  <a href=\"#\" class=\"nav-btn btn-left\" id=\"ctl-left\"></a>\n  <a href=\"#\" class=\"nav-btn btn-right\" id=\"ctl-right\"></a>\n  <div class=\"controller\" id=\"ctl\"></div>\n  <div class=\"banner-scroll\" id=\"scroller\">\n\n    <!-- \u041d\u041e\u0412\u042b\u0415 \u041a\u0410\u0420\u0422\u0418\u041d\u041a\u0418 \u0411\u0410\u041d\u041d\u0415\u0420\u0410 \u0414\u041e\u0411\u0410\u0412\u041b\u042f\u0422\u042c \u041d\u0418\u0416\u0415 -->\n\n\n    <a href=\"/remake-contest\" target=\"_top\">\n      <img src=\"/local--files/fragment:main-banner/con_head(1).png\">\n    </a>\n\n    <a href=\"/least-rated-pages\" target=\"_top\">\n      <img src=\"/local--files/fragment:main-banner/banner-6.webp\">\n    </a>\n\n    <a href=\"/private-contest-oakk\" target=\"_top\">\n      <img src=\"/local--files/fragment:main-banner/oakk.png\">\n    </a>\n\n    <a href=\"https://boosty.to/scpfanpage\" target=\"_top\">\n      <img src=\"/local--files/fragment:main-banner/banner-boost.jpg\">\n    </a>\n\n    <a href=\"/least-rated-ru-pages\" target=\"_top\">\n      <img src=\"/local--files/fragment:main-banner/banner-3.jpg\">\n    </a>\n\n    <!--/ \u041d\u041e\u0412\u042b\u0415 \u041a\u0410\u0420\u0422\u0418\u041d\u041a\u0418 \u0411\u0410\u041d\u041d\u0415\u0420\u0410 \u0414\u041e\u0411\u0410\u0412\u041b\u042f\u0422\u042c \u0412\u042b\u0428\u0415 -->\n\n  </div>\n</div>\n<style>\nhtml, body {\n  overflow: hidden;\n}\n\n.banner-single {\n  user-select: none;\n  overflow: hidden;\n  width: 100%;\n  position: relative;\n}\n.banner-scroll {\n  display: flex;\n  position: relative;\n  align-items: center;\n  z-index: 0;\n}\n.smooth-scroll {\n  transition: all 0.5s ease-in-out;\n}\n.banner-scroll a {\n  display: block;\n  width: 100%;\n  flex-grow: 0;\n  flex-shrink: 0;\n}\n.banner-scroll a img {\n  width: 100%;\n  min-height: 100%;\n  display: block;\n}\n.nav-btn {\n  background: #99999999;\n  border: 1px solid #999999;\n  opacity: 0.75;\n  border-radius: 100%;\n  width: 32px;\n  height: 32px;\n  display: block;\n  position: absolute;\n  top: calc(50% - 16px);\n  z-index: 1;\n}\n.nav-btn:hover {\n  opacity: 1;\n}\n.nav-btn::before {\n  content: '';\n  background: #999999;\n  width: 16px;\n  height: 8px;\n  display: block;\n  clip-path: polygon(0 90%, 50% 0, 100% 90%, 90% 100%, 50% 15%, 10% 100%);\n  position: absolute;\n  left: calc(50% - 8px);\n  top: calc(50% - 4px);\n}\n.nav-btn.btn-left {\n  left: -16px;\n}\n.nav-btn.btn-left::before {\n  transform: rotate(-90deg);\n  left: calc(50% - 3px);\n}\n.nav-btn.btn-right {\n  right: -16px;\n}\n.nav-btn.btn-right::before {\n  transform: rotate(90deg);\n  left: auto;\n  right: calc(50% - 3px);\n}\n.controller {\n  position: absolute;\n  z-index: 1;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16px 0;\n}\n.controller a {\n  display: block;\n  width: 6px;\n  height: 6px;\n  flex-grow: 0;\n  flex-shrink: 0;\n  background: #999999;\n  opacity: 0.75;\n  margin: 0 3px;\n  border-radius: 100%;\n}\n.controller a:hover, .controller a.active {\n  opacity: 1;\n  transform: scale(1.4);\n}\n@media (max-width: 640px) {\n  .controller a {\n    width: 3px;\n    height: 3px;\n    margin: 0 2px;\n  }\n  .controller {\n    padding: 8px 0;\n  }\n}\n</style>\n<script>\nlet currentItem = 0;\nlet scroller = null;\nlet itemCount = 0;\nconst posItems = [];\nlet paused = false;\nconst events = [];\n\n// touchscreen events\nlet touchX, touchY;\nlet touchEndX, touchEndY;\n\nfunction handleEvent(e) {\n  scroller.classList.add('smooth-scroll');\n  let index = e.index;\n  if (e.prefer === 'right' && e.index < currentItem) {\n    index = itemCount * 2 + e.index;\n  } else if (e.prefer === 'left' && e.index > currentItem) {\n    index = e.index;\n  } else {\n    index = itemCount + e.index;\n  }\n  const percentage = (-100 * index);\n  currentItem = e.index;\n  posItems.forEach(function(item) { item.classList.remove('active'); });\n  posItems[currentItem].classList.add('active');\n  scroller.style.left = `${percentage}%`;\n  setTimeout(function() {\n    scroller.classList.remove('smooth-scroll');\n    const finalPercentage = (-100 * (itemCount + e.index));\n    scroller.style.left = `${finalPercentage}%`;\n    setTimeout(nextEvent, 10);\n  }, 500);\n}\n\nfunction awaitNextEvent() {\n  if (events.length) {\n    nextEvent();\n  } else {\n    window.requestAnimationFrame(awaitNextEvent);\n  }\n}\n\nfunction nextEvent() {\n  if (events.length) {\n    const e = events[events.length-1];\n    events.splice(0, events.length);\n    handleEvent(e);\n  } else {\n    awaitNextEvent();\n  }\n}\n\nwindow.addEventListener('DOMContentLoaded', function() {\n  scroller = document.querySelector('#scroller');\n  const items = Array.from(scroller.querySelectorAll('a'));\n  itemCount = items.length;\n  scroller.style.left = `${-100 * itemCount}%`;\n  // duplicate items;\n  items.forEach(function(item) {\n    const clone = item.cloneNode(true);\n    item.parentNode.insertBefore(clone, items[0])\n    const clone2 = item.cloneNode(true);\n    item.parentNode.appendChild(clone2);\n  });\n  scroller.parentElement.addEventListener('mouseover', function() {\n    paused = true;\n  });\n  scroller.parentElement.addEventListener('mouseout', function() {\n    paused = false;\n  });\n  scroller.parentElement.addEventListener('touchstart', function(e) {\n    touchX = e.touches[0].clientX;\n    touchY = e.touches[0].clientY;\n  });\n  scroller.parentElement.addEventListener('touchmove', function(e) {\n    touchEndX = e.touches[0].clientX;\n    touchEndY = e.touches[0].clientY;\n  });\n  scroller.parentElement.addEventListener('touchend', function(e) {\n    const delta = touchX - touchEndX;\n    if (delta > 64) {\n      events.push({index: (currentItem+1) % itemCount, prefer: 'right'});\n    } else if (delta < -64) {\n      events.push({index: currentItem ? (currentItem-1) : (itemCount-1), prefer: 'left'});\n    }\n  });\n  document.querySelector('#ctl-left').addEventListener('click', function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    events.push({index: currentItem ? (currentItem-1) : (itemCount-1), prefer: 'left'});\n  });\n  document.querySelector('#ctl-right').addEventListener('click', function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    events.push({index: (currentItem+1) % itemCount, prefer: 'right'});\n  });\n  const controller = document.querySelector('#ctl');\n  for (let i = 0; i < itemCount; i++) {\n    const c = document.createElement('a');\n    c.setAttribute('href', '#');\n    if (!i) c.classList.add('active');\n    c.addEventListener('click', function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      events.push({index: i});\n    });\n    controller.appendChild(c);\n    posItems.push(c);\n  }\n\n  setInterval(function() {\n    if (paused) return;\n    events.push({index: (currentItem + 1) % itemCount, prefer: 'right'});\n  }, 5000);\n  nextEvent();\n});\n</script>\n[[/html]][[span]]\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f[[/span]]\n[[/div]]\n[[module CSS]]\n.banner-block {\n  width: 100%;\n  box-sizing: border-box;\n}\n.banner-block iframe {\n  display: block;\n  box-sizing: border-box;\n}\n[[/module]]\n[[module CSS]]\n.banner-block {\n  text-align: center;\n  font-size: 10pt;\n  text-transform: uppercase;\n  font-weight: normal;\n  background: linear-gradient(0deg, #d8d8d8 0%, #ececec 12%);\n  border: 1px solid #dcdcdc;\n  box-shadow: 0 2px 3px #ccc;\n}\n.banner-block span {\n  padding: 4px 24px;\n  border-top: none;\n}\n[[/module]]", "tags": ["\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430:\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430_\u0441\u0430\u0439\u0442\u0430"], "parent": null, "locked": true}